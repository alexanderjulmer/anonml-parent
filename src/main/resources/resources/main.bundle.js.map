{"version":3,"sources":["webpack:///./src async","webpack:///./src/app/anonymization-handler.service.ts","webpack:///./src/app/anonymization.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/focus-main.directive.ts","webpack:///./src/app/focus-rework.directive.ts","webpack:///./src/app/highlight-anonymization.pipe.ts","webpack:///./src/app/http.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"./src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = ./src async recursive\n// module chunks = 1","import { Anonymization } from './anonymization';\nimport { HttpService } from './http.service';\nimport { Injectable } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Injectable()\nexport class AnonymizationHandlerService {\n\n  private actuallyReworking: Anonymization;\n  private allLabels: string[];\n  private acceptedAnonymizations: number[] = [];\n  private reworkedAnonymizations: number[] = [];\n  private declinedAnonymizations: number[] = [];\n  private addedAnonymizations: number[] = [];\n  private temporaryAnonymization: Anonymization[] = [];\n\n  protected displayableText: string;\n  protected anonymizations: Anonymization[];\n\n  getText(): string {\n    return this.displayableText;\n  }\n  getAnonymizations(): Anonymization[] {\n    return this.anonymizations.concat(this.temporaryAnonymization);\n  }\n  getAllTouchedAnonymizations(): number[] {\n    return this.acceptedAnonymizations.concat(this.reworkedAnonymizations, this.addedAnonymizations);\n  }\n\n  setActualleReworking(actual: Anonymization): void {\n    this.actuallyReworking = actual;\n  }\n  getActuallyReworking(): Anonymization {\n    return this.actuallyReworking;\n  }\n\n  getLabels(): string[] {\n    return this.allLabels;\n  }\n\n  generateColorForLabel(label: string, original: string, asHTML: boolean) {\n    let replacement = '';\n    const indexOfLabel = this.allLabels.indexOf(label)\n    if (indexOfLabel === -1) {\n      replacement += '<span style=\"background-color:rgb( 255 , 255, 255)\">' + original + '</span>'\n    } else {\n      replacement += '<span style=\"background-color:rgb( 0 , ' + (255 - (indexOfLabel * 25) % 255) + ', '\n        + ((indexOfLabel * 25) % 255) + ')\">' + original + '</span>'\n    }\n    if (asHTML) {\n      return this.sanitizer.bypassSecurityTrustHtml(replacement);\n    }\n    return replacement;\n  }\n\n  setTemporatyAnonymization(): void {\n    this.temporaryAnonymization.length = 0;\n    this.temporaryAnonymization.push(this.actuallyReworking);\n  }\n\n  setUpParams(displayableText: string, anonymizations: Anonymization[]): void {\n\n    this.displayableText = displayableText;\n    this.anonymizations = anonymizations;\n    this.findNextAnonymization();\n  }\n\n  getMaxId(): number {\n    let highestIndex = 0;\n    let id;\n    for (let i = 0; i < this.anonymizations.length; ++i) {\n      id = this.anonymizations[i].id;\n      if (id > highestIndex) {\n        highestIndex = id;\n      }\n    }\n    return highestIndex;\n  }\n\n  findNextAnonymization(): void {\n    console.log('findNextAnonymization accessed.');\n    let lowestIndex = Number.MAX_VALUE;\n    let foundIndex;\n    let nextAnonymization = -1;\n    for (let i = 0; i < this.anonymizations.length; ++i) {\n      if (this.getAllTouchedAnonymizations().includes(this.anonymizations[i].id)) {\n        continue;\n      }\n      const regex = this.formRegexFromOriginal(this.anonymizations[i].data.original);\n      foundIndex = this.displayableText.search(new RegExp(regex));\n      if (foundIndex === -1) {\n        console.log(this.anonymizations[i].data.original + ' not found!');\n        continue;\n      } else if (foundIndex < lowestIndex) {\n        lowestIndex = foundIndex;\n        nextAnonymization = i;\n      }\n    }\n    if (nextAnonymization === -1) {\n      this.actuallyReworking = null;\n    }\n    this.actuallyReworking = this.anonymizations[nextAnonymization];\n  }\n\n  formRegexFromOriginal(original: string) {\n    original = original.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&')\n    original = original.replace(/(\\s)+/g, '((\\\\s)+|(<br>)+)');\n    return original;\n  }\n\n  acceptedActualAnonymization(): void {\n    console.log('Accepted!');\n    if (this.actuallyReworking == null) {\n      console.log('Document finished!');\n      return;\n    }\n    this.acceptedAnonymizations.push(this.actuallyReworking.id);\n    this.findNextAnonymization();\n  }\n\n  declineActualAnonymization(): void {\n    if (this.actuallyReworking == null) {\n      console.log('Document finished!');\n      return;\n    }\n    const index = this.anonymizations.indexOf(this.actuallyReworking);\n    this.declinedAnonymizations.push(this.actuallyReworking.id);\n    this.anonymizations.splice(index, 1);\n    this.findNextAnonymization();\n  }\n\n  reworkedActualAnonymization(): void {\n    if (this.actuallyReworking == null) {\n      console.log('Document finished!');\n      return;\n    }\n    this.reworkedAnonymizations.push(this.actuallyReworking.id);\n    this.findNextAnonymization();\n  }\n\n  addedNewAnonymization(): void {\n    this.anonymizations.push(this.actuallyReworking);\n    this.addedAnonymizations.push(this.actuallyReworking.id);\n    this.findNextAnonymization();\n    this.temporaryAnonymization.length = 0;\n  }\n\n  constructor(private httpService: HttpService, private sanitizer: DomSanitizer) {\n    this.httpService.getLabels().then(labels => this.allLabels = labels)\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/anonymization-handler.service.ts","import { Replacement } from './replacement';\nexport class Anonymization {\n\n  id: number;\n  data: Replacement;\n  producer: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/anonymization.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* Set height of the grid so .sidenav can be 100% (adjust if needed) */\\r\\n.row.content {\\r\\n\\theight: 1500px;\\r\\n}\\r\\n\\r\\n/* Set gray background color and 100% height */\\r\\n.sidenav {\\r\\n\\tbackground-color: #f1f1f1;\\r\\n\\theight: 100%;\\r\\n\\tpadding-left: 5%;\\r\\n\\tpadding-top: 1%;\\r\\n}\\r\\n\\r\\n/* Set black background color, white text and some padding */\\r\\nfooter {\\r\\n\\tbackground-color: #555;\\r\\n\\tcolor: white;\\r\\n\\tpadding: 15px;\\r\\n}\\r\\n\\r\\n/* On small screens, set height to 'auto' for sidenav and grid */\\r\\n@media screen and (max-width: 767px) {\\r\\n\\t.sidenav {\\r\\n\\t\\theight: auto;\\r\\n\\t\\tpadding: 15px;\\r\\n\\t}\\r\\n\\t.row.content {\\r\\n\\t\\theight: auto;\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.btn-sq-lg {\\r\\n  width:65px !important;\\r\\n  height:65px !important;\\r\\n}\\r\\n\\r\\n.btn-sq-sm {\\r\\n  width:32px !important;\\r\\n  height:32px !important;\\r\\n}\\r\\n\\r\\n/* layout.css Style */\\r\\n.upload-drop-zone {\\r\\n  height: 30%;\\r\\n  width: 100%;\\r\\n  border-width: 2px;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n/* skin.css Style*/\\r\\n.upload-drop-zone {\\r\\n  color: #ccc;\\r\\n  border-style: dashed;\\r\\n  border-color: #ccc;\\r\\n  line-height: 400px;\\r\\n  text-align: center\\r\\n}\\r\\n.upload-drop-zone.drop {\\r\\n  color: #222;\\r\\n  border-color: #222;\\r\\n}\\r\\n\\r\\n.white {\\r\\n\\tbackground-color: white;\\r\\n\\tpadding-left: 1%;\\r\\n\\t\\r\\n}\\r\\n\\r\\n.fixed-panel {\\r\\n  min-height: 1000px;\\r\\n  max-height: 1000px;\\r\\n  overflow-y: scroll;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container-fluid\\\">\\n\\t<div class=\\\"row content\\\">\\n\\t\\t<div *ngIf=\\\"!anonymizationHanlderService.displayableText\\\"\\n\\t\\t\\tclass=\\\"col-sm-10 sidenav\\\">\\n\\t\\t\\t<input id=\\\"input-1\\\" type=\\\"file\\\" class=\\\"upload-drop-zone file\\\"\\n\\t\\t\\t\\t(change)=\\\"fileHandle($event)\\\">\\n\\t\\t</div>\\n\\t\\t<div id=\\\"controlId\\\" tabindex=\\\"1\\\" [appFocusRework]=\\\"focusMainArea\\\"\\n\\t\\t\\t(keypress)=\\\"keyControl($event)\\\"\\n\\t\\t\\t*ngIf=\\\"anonymizationHanlderService.displayableText\\\"\\n\\t\\t\\tclass=\\\"col-sm-10 sidenav\\\">\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-secondary\\\">{{fileName}}</button>\\n\\t\\t\\t<div class=\\\"panel panel-default\\\">\\n\\t\\t\\t\\t<div class=\\\"panel-body white fixed-panel\\\"\\n\\t\\t\\t\\t\\t(mouseup)=\\\"getSelectionText()\\\">\\n\\t\\t\\t\\t\\t<!-- *ngFor=\\\"let page of anonymizationHanlderService.displayableText\\\"-->\\n\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t[innerHtml]=\\\"anonymizationHanlderService.displayableText | highlightAnonymization:anonymizationHanlderService.getAnonymizations():trigger\\\"></div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<span>{{selectedText}}</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"col-sm-2\\\">\\n\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t<div class=\\\"col-sm-5\\\">\\n\\t\\t\\t\\t\\t<h4>Steuerung:</h4>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"col-sm-1\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"col-sm-5\\\">\\n\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\" class=\\\"btn btn-sq-sm btn-default\\\">w</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\" class=\\\"btn btn-sq-sm btn-default\\\">a</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\" class=\\\"btn btn-sq-sm btn-default\\\">s</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\" class=\\\"btn btn-sq-sm btn-default\\\">d</button></td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t<div class=\\\"col-md-8 col-md-offset-2\\\">\\n\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-sq-lg btn-default btn-lg\\\">a</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:&nbsp;<b>a</b>ccept\\n\\t\\t\\t\\t\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-sq-lg btn-default btn-lg\\\">d</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:&nbsp;<b>d</b>ecline\\n\\t\\t\\t\\t\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-sq-lg btn-default btn-lg\\\">w</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td><h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:&nbsp;re<b>w</b>ork\\n\\t\\t\\t\\t\\t\\t\\t\\t</h4></td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td><button type=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-sq-lg btn-default btn-lg\\\">s</button></td>\\n\\t\\t\\t\\t\\t\\t\\t<td><h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:&nbsp;<b>s</b>ave\\n\\t\\t\\t\\t\\t\\t\\t\\t</h4></td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<hr>\\n\\t\\t\\t<div *ngIf=\\\"anonymizationHanlderService.getActuallyReworking()\\\"\\n\\t\\t\\t\\t(keyup.enter)=\\\"enterRework()\\\">\\n\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td><h4>Annotation:</h4></td>\\n\\t\\t\\t\\t\\t</tr>\\n\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td><div\\n\\t\\t\\t\\t\\t\\t\\t\\t[innerHtml]=\\\"anonymizationHanlderService.generateColorForLabel(\\n\\t\\t\\t\\t\\t\\t\\t\\tanonymizationHanlderService.getActuallyReworking().data.label, \\n\\t\\t\\t\\t\\t\\t\\t\\tanonymizationHanlderService.getActuallyReworking().data.original, \\n\\t\\t\\t\\t\\t\\t\\t\\ttrue)\\\"></div></td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td><h3>Label:</h3></td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td><select [appFocusRework]=\\\"focusReworkArea\\\"\\n\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"anonymizationHanlderService.getActuallyReworking().data.label\\\"\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"form-control\\\"><option\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngFor=\\\"let label of anonymizationHanlderService.getLabels()\\\">{{label}}</option>\\n\\t\\t\\t\\t\\t\\t</select></td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td><h3>Ersetzung:</h3></td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"ersetzung\\\"\\n\\t\\t\\t\\t\\t\\t\\t[(ngModel)]=\\\"anonymizationHanlderService.getActuallyReworking().data.replacement\\\"></td>\\n\\t\\t\\t\\t\\t</tr>\\n\\n\\n\\t\\t\\t\\t</table>\\n\\n\\t\\t\\t\\t<a>Just hit 'Enter' to accept the changes!</a>\\n\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = 1","import { Anonymization } from './anonymization';\nimport { AnonymizationHandlerService } from './anonymization-handler.service';\nimport { Component, Input, ViewChildren, ViewChild, EventEmitter } from '@angular/core';\nimport { FileReference } from 'typescript';\nimport { HttpService } from './http.service';\nimport { Document } from './document';\nimport { HttpModule } from '@angular/http';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [HttpService, AnonymizationHandlerService]\n})\nexport class AppComponent {\n  title = 'AnonML';\n  protected trigger = 0;\n  protected fileName: string;\n  protected docId: string;\n  protected docFileType: string;\n\n  protected focusReworkArea = new EventEmitter<boolean>();\n  protected focusMainArea = new EventEmitter<boolean>();\n  protected selectedText;\n  protected tempAnonymization;\n\n  updatePipe(): void {\n    this.trigger++;\n  }\n\n  fileHandle(event): void {\n    const files = event.target.files || event.srcElement.files;\n    console.log(files);\n\n    this.httpService.postFile(files).then(response => {\n      this.fileName = response.fileName;\n      this.docId = response.id;\n      this.docFileType = response.originalFileType;\n      for (let i = 0; i < response.anonymizations.length; ++i) {\n        response.anonymizations[i].id = i + 1;\n      }\n      this.anonymizationHanlderService.setUpParams(response.displayableText, response.anonymizations);\n\n    });\n\n  }\n\n  keyControl(event: KeyboardEvent): void {\n    switch (event.charCode) {\n      case 97:\n        console.log('pressed a');\n        this.anonymizationHanlderService.acceptedActualAnonymization();\n        this.updatePipe();\n        break;\n      case 119:\n        console.log('pressed w');\n        this.focusReworkArea.emit(true);\n\n        break;\n      case 100:\n        console.log('pressed d');\n        this.anonymizationHanlderService.declineActualAnonymization();\n        this.updatePipe();\n        break;\n      case 115:\n        console.log('pressed s');\n        if (this.anonymizationHanlderService.getActuallyReworking() === undefined) {\n\n          this.httpService.saveFile(this.anonymizationHanlderService.getAnonymizations(), this.docId);\n        } else {\n          console.log('Document not finished!');\n        }\n\n\n        break;\n      default:\n    }\n  }\n\n  enterRework(): void {\n    console.log('Hit Enter!');\n    this.focusMainArea.emit(true);\n    if (this.anonymizationHanlderService.getActuallyReworking().id === (this.anonymizationHanlderService.getMaxId() + 1)) {\n      console.log('add new anonymization!');\n      this.anonymizationHanlderService.addedNewAnonymization();\n    } else {\n      this.anonymizationHanlderService.reworkedActualAnonymization();\n    }\n\n    this.updatePipe();\n  }\n\n\n  getSelectionText(): void {\n    console.log('getSelectionText Entered.');\n    let t;\n    if (window.getSelection) {\n      t = window.getSelection();\n    } else if (document.getSelection) {\n      t = document.getSelection();\n    }\n    // first check for wrong selections\n    if (String(t) === '' || String(t) === ' ') {\n      return;\n    }\n    this.tempAnonymization = new Anonymization();\n    this.tempAnonymization.original = t.toString();\n    this.tempAnonymization.Producer = 'HUMAN';\n    this.tempAnonymization.id = this.anonymizationHanlderService.getMaxId() + 1;\n    this.anonymizationHanlderService.setActualleReworking(this.tempAnonymization);\n    this.anonymizationHanlderService.setTemporatyAnonymization();\n    this.updatePipe();\n    this.focusReworkArea.emit(true);\n  }\n\n  constructor(private httpService: HttpService, protected anonymizationHanlderService: AnonymizationHandlerService) {\n    this.focusMainArea.emit(true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { AppComponent } from './app.component';\nimport { HighlightAnonymizationPipe } from './highlight-anonymization.pipe';\nimport { FocusReworkDirective } from './focus-rework.directive';\nimport { FocusMainDirective } from './focus-main.directive';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HighlightAnonymizationPipe,\n    FocusReworkDirective,\n    FocusMainDirective\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Directive, Input, EventEmitter, Inject, ElementRef, Renderer, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[appFocusMain]'\n})\nexport class FocusMainDirective implements OnInit {\n\n  @Input() appFocusMain: EventEmitter<boolean>;\n\n  constructor( @Inject(ElementRef) private element: ElementRef, private renderer: Renderer) { }\n\n  ngOnInit() {\n    this.appFocusMain.subscribe(event => {\n      this.renderer.invokeElementMethod(this.element.nativeElement, 'focus', []);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/focus-main.directive.ts","import { Directive, Input, EventEmitter, Inject, ElementRef, Renderer, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[appFocusRework]'\n})\nexport class FocusReworkDirective implements OnInit {\n\n  @Input() appFocusRework: EventEmitter<boolean>;\n\n  constructor( @Inject(ElementRef) private element: ElementRef, private renderer: Renderer) { }\n\n  ngOnInit() {\n    this.appFocusRework.subscribe(event => {\n      this.renderer.invokeElementMethod(this.element.nativeElement, 'focus', []);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/focus-rework.directive.ts","import {Anonymization} from './anonymization';\nimport {AnonymizationHandlerService} from './anonymization-handler.service';\nimport {AppComponent} from './app.component';\nimport {Pipe, PipeTransform} from '@angular/core';\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\nimport {textChangeRangeIsUnchanged} from 'typescript';\n\n@Pipe({\n  name: 'highlightAnonymization'\n})\nexport class HighlightAnonymizationPipe implements PipeTransform {\n\n  transform(value: string, anonymizations: Anonymization[], trigger: number): SafeHtml {\n    console.log('Pipe highlightAnonymization entered.');\n    let newValue = value;\n    let replacement = '';\n    console.log('teeest');\n    for (let i = 0; i < anonymizations.length; ++i) {\n      replacement = '';\n\n      if (anonymizations[i].data === undefined) {\n\n        console.log(anonymizations[i]);\n      }\n\n      if (this.anonymizationHanlderService.getAllTouchedAnonymizations().includes(anonymizations[i].id)) {\n        replacement = '<span style=\"background-color:DarkGrey\">' + anonymizations[i].data.replacement + '</span>'\n      } else {\n\n        if (anonymizations[i].id === this.anonymizationHanlderService.getActuallyReworking().id) {\n          replacement = '<span style=\"background-color:rgb(255,0,0)\">[]</span>';\n        }\n\n        //        console.log('Label: ' + anonymizations[i].label);\n        replacement += this.anonymizationHanlderService.generateColorForLabel(anonymizations[i].data.label,\n          anonymizations[i].data.original, false);\n\n      }\n      //      console.log('Replacement: ' + replacement)\n      newValue = newValue.replace(new RegExp(\n        this.anonymizationHanlderService.formRegexFromOriginal(anonymizations[i].data.original), 'g'), replacement);\n    }\n    return this.sanitizer.bypassSecurityTrustHtml(newValue);\n  }\n  constructor(private anonymizationHanlderService: AnonymizationHandlerService, private sanitizer: DomSanitizer) {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/highlight-anonymization.pipe.ts","import { Anonymization } from './anonymization';\nimport { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, RequestOptionsArgs } from '@angular/http';\nimport { Observable, } from 'rxjs/Rx';\nimport 'rxjs/add/operator/toPromise';\nimport { Document } from './document';\n\n\n@Injectable()\nexport class HttpService {\n\n  private headers = new Headers({});\n  options: RequestOptionsArgs = new RequestOptions();\n\n  constructor(private http: Http) { }\n\n  getLabels(): Promise<string[]> {\n    const url = '/api/labels';\n    return this.http.get(url).toPromise().then(response => response.json() as String[]).catch(this.handleError);\n  }\n\n\n  postFile(files): Promise<Document> {\n    const url = '/api/upload';\n    const formData: FormData = new FormData();\n    this.options.headers = new Headers(); // 'Content-Type': 'multipart/form-data'\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append('file', files[i]);\n    }\n\n    return this.http.post(url, formData, this.options)\n      .toPromise().then(response => response.json() as Document)\n      .catch(this.handleError);\n\n  }\n\n  saveFile(anonymizations: Anonymization[], id: string): void {\n    const url = '/api/update/anonymizations/' + id;\n    const headers = new Headers();\n\n\n    headers.append('Content-Type', 'application/json');\n    this.http.post(url, JSON.stringify(anonymizations), { headers: headers })\n      .toPromise().then(Response => {window.location.replace('api/save/' + id)})\n      .catch(this.handleError);\n\n\n  }\n\n  private handleError(error: any): Promise<any> {\n    console.error('An error occurred', error); // for demo purposes only\n    return Promise.reject(error.message || error);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/http.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":""}